!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:[]};e.Todos=o,e.setLocalStorage=function(t){var e=JSON.stringify(t);localStorage.setItem("object",e)},e.getLocalStorage=function(){var t=JSON.parse(localStorage.getItem("object"));e.Todos=o=t}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchTodosInInput=e.saveChange=e.updateTodos=e.clearTodo=e.createNewTodo=void 0;var o=n(0).Todos,a=document.getElementById("save"),r=document.getElementById("todo-list-text"),i=document.getElementById("todo-list-button"),l=null;e.createNewTodo=function(t){t.preventDefault();var e=t.currentTarget[0].value;return t.currentTarget[0].value="",e},e.clearTodo=function(t){return t.target.parentElement.children[0].textContent.trim()},e.updateTodos=function(t){var e=t.target.parentElement.childNodes[1].textContent.trim();r.value=e,a.style.display="block",i.style.display="none",l=t.target.dataset.id},e.saveChange=function(t){var e=t.currentTarget.parentNode[0].value;r.value="",a.style.display="none",i.style.display="block";var n=[];return n[0]=l,n[1]=e,n},e.searchTodosInInput=function(t){if(o)return t.srcElement.value.trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(0);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=a.Todos,l=function t(e,n){r(this,t),this.id=Math.floor(100*Math.random()),this.name=e,this.dateCreate=n,this.dateUpdate=null},u=function(){function t(){r(this,t)}return o(t,[{key:"getDate",value:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth();return t.getDay()+" "+n+" "+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"crateTodo",value:function(t,e){if(t||alert("Задача не добавлена!"),t){var n=new l(t,e);i.data.push(n)}(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"deleteTodo",value:function(t){var e=null;i.data.forEach(function(n,o){n.name===t&&(e=o)}),i.data.splice(e,1),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"updateTodo",value:function(t,e,n){var o=i.data.filter(function(e){return e.id===+t});o[0].name=e,o[0].dateUpdate=n,(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"dateSort",value:function(){i.data.sort(function(t,e){return new Date(e.dateCreate)-new Date(t.dateCreate)}),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"nameSort",value:function(){i.data.sort(function(t,e){var n=t.name.toLowerCase(),o=e.name.toLowerCase();return n<o?-1:n>o?1:void 0}),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"searchTodo",value:function(t){var e={data:[]},n=(i.data,new RegExp(t,"i"));return i.data.forEach(function(t){n.test(t.name)&&e.data.push(t)}),e||i}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var a=document.getElementById("pages-container"),r=(document.getElementById("pagination-container"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.getElementById("prev-button-container")),i=document.getElementById("next-button-container"),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.countClick=0,this.numberButtonClick=null,this.countElementInPage=3,this.countElementsInThisPage=3*this.numberButtonClick,this.countAllData=e.data.length,this.checkNumberClick=!1,this.clickNumber=null,this.todos=e,this.lastPage=null,this.selectNumberButton=1}return o(t,[{key:"createNumberButton",value:function(t){var e=this.todos.data.length/3;if(this.countClick=0,a.innerHTML="",this.todos.data.length>3){for(var n=0;n<e;n++)a.innerHTML+='\n                     <button class="link-pages" id="link-pages">'+(n+1)+"</button>\n                    ";r.innerHTML='<button class="prev" id="prev">prev</button>',i.innerHTML='<button class="next" id="next">next</button>'}this.todos.data.length<=3&&(r.innerHTML="",i.innerHTML="")}},{key:"clickNumberButton",value:function(t){var e=Number(t.target.textContent.trim());this.checkNumberClick=!0,this.selectNumberButton=e,this.countClick=1===e?0:3*e-3;var n=[],o=this.countElementInPage*e-3,r=this.countElementInPage*e;if(this.todos.data.length>3)if(r>this.todos.data.length){n.length=0;for(var i=o;i<this.todos.data.length;i++)n.push(i)}else{n.length=0;for(var l=o;l<r;l++)n.push(l)}if(e)for(var u=0;u<a.children.length;u++)u===e-1?(a.children[u].style.backgroundColor="#d2d2d7",a.children[u].style.outline="none"):a.children[u].style.backgroundColor="white";return n}},{key:"clickNextButton",value:function(t){t.currentTarget.style.outline="none";var e=[];this.countClick<this.todos.data.length&&(this.lastPage=this.todos.data.length-this.countClick),this.countClick+=3,this.selectNumberButton+=1;this.countClick,this.todos.data.length;if(this.todos.data.length>this.countClick){e.length=0;for(var n=this.countClick;n<this.countClick+3;n++)e.push(n)}if(1===this.lastPage){e.length=0;for(var o=this.todos.data.length-1;o<this.todos.data.length;o++)e.push(o)}if(2===this.lastPage){e.length=0;for(var r=this.todos.data.length-2;r<this.todos.data.length;r++)e.push(r)}if(this.countClick>=this.todos.data.length){e.length=0,this.selectNumberButton=Math.ceil(this.todos.data.length/3),this.countClick=this.countClick-3;for(var i=this.todos.data.length-this.lastPage;i<this.todos.data.length;i++)e.push(i)}var l=a.children;if(l.length)for(var u=0;u<l.length;u++){Number(l[u].textContent)===this.selectNumberButton?(l[u].style.backgroundColor="#d2d2d7",l[u].style.outline="none"):l[u].style.backgroundColor="white"}return e}},{key:"clickPrevButton",value:function(t){t.currentTarget.style.outline="none";var e=[];if(this.lastPage=this.todos.data.length-this.countClick,this.countClick>=3&&(this.countClick-=3),this.selectNumberButton-=1,this.todos.data.length>this.countClick){e.length=0;for(var n=this.countClick;n<this.countClick+3;n++)e.push(n)}if(1===this.lastPage){e.length=0;for(var o=this.todos.data.length-4;o<this.todos.data.length-1;o++)e.push(o)}if(2===this.lastPage){e.length=0;for(var r=this.todos.data.length-5;r<this.todos.data.length-2;r++)e.push(r)}if(this.countClick<=0){e.length=0,this.countClick=0,this.selectNumberButton=1;for(var i=this.countClick;i<this.countClick+3;i++)e.push(i)}var l=a.children;if(l.length)for(var u=0;u<l.length;u++){Number(l[u].textContent)===this.selectNumberButton?(l[u].style.backgroundColor="#d2d2d7",l[u].style.outline="none"):l[u].style.backgroundColor="white"}return e}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=document.getElementById("todo-list");e.default=function(t,e){if(t.data.length){if(o.innerHTML="",t.data.forEach(function(t){var e=document.createElement("li");e.className="element-todo-list",e.innerHTML='\n                       \n                    <span class="todo">\n                       '+t.name+'\n                    </span>\n                    \n                    <button class="update" data-id='+t.id+'>\n                            Изменить \n\n                    <button class="delete"    >\n                        x\n                    </button>\n            \n                ',o.appendChild(e)}),t.data.length<=3||t.data.length>3)for(var n=0;n<t.data.length;n++)n<3&&(o.children[n].style.display="flex");if(e){if(1===e.length)for(var a=0;a<t.data.length;a++)e[0]===a?o.children[a].style.display="flex":o.children[a].style.display="none";if(2===e.length)for(var r=0;r<t.data.length;r++)e[0]===r||e[1]===r?o.children[r].style.display="flex":o.children[r].style.display="none";if(3===e.length)for(var i=0;i<t.data.length;i++)e[0]===i||e[1]===i||e[2]===i?o.children[i].style.display="flex":o.children[i].style.display="none"}}t.data.length||(o.innerHTML="")}},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(0),r=c(n(5)),i=c(n(4)),l=c(n(3)),u=n(2);function c(t){return t&&t.__esModule?t:{default:t}}var d=a.Todos,s=new l.default,h=new i.default(a.Todos),f=document.getElementById("save"),g=document.getElementById("todo-list-text"),v=document.getElementById("todo-list-form"),y=document.getElementById("todo-list"),m=document.getElementById("butSortByDate"),p=document.getElementById("butSortByName"),b=(document.querySelectorAll(".delete"),document.getElementById("pages-container")),k=document.getElementById("pagination-container");f.style.display="none";var T=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,[{key:"createNewTodo",value:function(t){var e=(0,u.createNewTodo)(t);s.crateTodo(e,s.getDate()),h.createNumberButton(),(0,r.default)(d)}},{key:"deleteTodo",value:function(t){var e=(0,u.clearTodo)(t);s.deleteTodo(e),h.createNumberButton(!0),(0,r.default)(d)}},{key:"updateTodo",value:function(t){(0,u.updateTodos)(t)}},{key:"saveUpdate",value:function(){var t=(0,u.saveChange)(event);s.updateTodo(t[0],t[1],s.getDate()),h.createNumberButton(),(0,r.default)(d)}},{key:"searchTodo",value:function(){var t=(0,u.searchTodosInInput)(event),e=s.searchTodo(t);(0,r.default)(e)}},{key:"sortTodoByDate",value:function(){s.dateSort(),(0,r.default)(d)}},{key:"sortTodoByName",value:function(){s.nameSort(),(0,r.default)(d)}},{key:"paginationNumberNavigation",value:function(t){var e=h.clickNumberButton(t);(0,r.default)(d,e)}},{key:"paginationNextButton",value:function(t){var e=h.clickNextButton(t);(0,r.default)(d,e)}},{key:"paginationPrevButton",value:function(t){var e=h.clickPrevButton(t);(0,r.default)(d,e)}}]),t}());v.onsubmit=T.createNewTodo,y.addEventListener("DOMSubtreeModified",function(){var t=!0,e=!1,n=void 0;try{for(var o,a=y.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value;r.children[2].onclick=T.deleteTodo,r.children[1].onclick=T.updateTodo}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}),b.addEventListener("DOMSubtreeModified",function(){var t=!0,e=!1,n=void 0;try{for(var o,a=b.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.onclick=T.paginationNumberNavigation}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}),k.addEventListener("DOMSubtreeModified",function(){k.children[0].onclick=T.paginationPrevButton,k.children[k.children.length-1].onclick=T.paginationNextButton}),f.onclick=T.saveUpdate,g.onkeyup=T.searchTodo,m.onclick=T.sortTodoByDate,p.onclick=T.sortTodoByName},function(t,e,n){n(6),t.exports=n(1)}]);
//# sourceMappingURL=bundle.js.map