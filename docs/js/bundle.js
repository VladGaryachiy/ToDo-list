!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=3)}([function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function t(e,a){o(this,t),this.id=Math.floor(100*Math.random()),this.name=e,this.dateCreate=a,this.dateUpdate=null},l=function(){function t(){o(this,t),this.todos={data:[{id:1,name:"todo 1",dateCreate:null,dateUpdate:null},{id:2,name:"todo 2",dateCreate:null,dateUpdate:null},{id:3,name:"todo 3",dateCreate:null,dateUpdate:null},{id:4,name:"todo 4",dateCreate:null,dateUpdate:null},{id:5,name:"todo 5",dateCreate:null,dateUpdate:null},{id:6,name:"todo 6",dateCreate:null,dateUpdate:null},{id:7,name:"todo 7",dateCreate:null,dateUpdate:null},{id:8,name:"todo 8",dateCreate:null,dateUpdate:null}]}}return n(t,[{key:"getDate",value:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth();return t.getDay()+" "+a+" "+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"getTodos",value:function(){var t=JSON.stringify(this.todos);localStorage.setItem("object",t)}},{key:"crateTodo",value:function(t,e){var a=new r(t,e);this.todos.data.push(a);var n=JSON.stringify(this.todos);localStorage.setItem("object",n)}},{key:"deleteTodo",value:function(t){var e=null;this.todos.data.forEach(function(a,n){a.name===t&&(e=n)}),this.todos.data.splice(e,1);var a=JSON.stringify(this.todos);localStorage.setItem("object",a)}},{key:"updateTodo",value:function(t,e,a){var n=this.todos.data.filter(function(e){return e.id===+t});n[0].name=e,n[0].dateUpdate=a;var o=JSON.stringify(this.todos);localStorage.setItem("object",o)}},{key:"dateSort",value:function(){this.todos.data.sort(function(t,e){return new Date(e.dateCreate)-new Date(t.dateCreate)});var t=JSON.stringify(this.todos);localStorage.setItem("object",t)}},{key:"nameSort",value:function(){this.todos.data.sort(function(t,e){var a=t.name.toLowerCase(),n=e.name.toLowerCase();return a<n?-1:a>n?1:void 0});var t=JSON.stringify(this.todos);localStorage.setItem("object",t)}},{key:"searchTodo",value:function(t){var e={data:[]},a=(this.todos.data,new RegExp(t,"i"));if(this.todos.data.forEach(function(t){a.test(t.name)&&e.data.push(t)}),e){var n=JSON.stringify(e);localStorage.setItem("object",n)}else{var o=JSON.stringify(this.todos);localStorage.setItem("object",o)}}}]),t}();e.default=l},function(t,e,a){"use strict";var n,o=a(1);var r=new((n=o)&&n.__esModule?n:{default:n}).default,l=null,d=document.getElementById("todo-list"),u=document.getElementById("save"),i=document.getElementById("todo-list-button"),c=document.getElementById("todo-list-text");u.style.display="none";var s=function(t){d.innerHTML="",t.data.forEach(function(t){var e=document.createElement("li");e.className="element-todo-list",e.innerHTML='\n                       \n                    <span class="todo">\n                       '+t.name+'\n                    </span>\n                    \n                    <button class="update" data-id='+t.id+'>\n                            Изменить \n\n                    <button class="delete"    >\n                        x\n                    </button>\n            \n                ',d.appendChild(e)});for(var e=document.querySelectorAll(".delete"),a=0;a<e.length;a++)e[a].onclick=g;for(var n=document.querySelectorAll(".update"),o=0;o<n.length;o++)n[o].onclick=m};r.getTodos(),l=JSON.parse(localStorage.getItem("object"));var f=document.getElementById("todo-list-form");document.getElementById("todo-list-container");f.onsubmit=function(t){t.preventDefault();var e=t.currentTarget[0].value;r.crateTodo(e,r.getDate()),S(l=JSON.parse(localStorage.getItem("object"))),t.currentTarget[0].value=""};var g=function(t){var e=t.target.parentElement.children[0].textContent;r.deleteTodo(e.trim()),S(l=JSON.parse(localStorage.getItem("object")))},m=function(t){var e=t.target.parentElement.childNodes[1].textContent.trim(),a=document.getElementById("todo-list-text");a.value=e,u.style.display="block",i.style.display="none";var n=t.target.dataset.id;u.onclick=function(t){var e=t.currentTarget.parentNode[0].value;r.updateTodo(n,e,r.getDate()),a.value="",u.style.display="none",i.style.display="block",S(l=JSON.parse(localStorage.getItem("object")))}};document.getElementById("butSortByDate").onclick=function(){r.dateSort();var t=JSON.parse(localStorage.getItem("object"));s(t)},document.getElementById("butSortByName").onclick=function(){r.nameSort();var t=JSON.parse(localStorage.getItem("object"));s(t)},c.onkeyup=function(t){if(l){var e=t.srcElement.value.trim();r.searchTodo(e);var a=JSON.parse(localStorage.getItem("object"));s(a)}};var v=0,p=!1,h=document.getElementById("pages-container"),y=function(t){l.data.length,l.data.length;var e={data:[]},a=t.currentTarget.textContent.trim();a;var n=3*a-3,o=3*a;if("1"===a)for(var r=0;r<l.data.length;r++)r+1<=3&&e.data.push(l.data[r]);else if(o>l.data.length)for(var d=n;d<l.data.length;d++)e.data.push(l.data[d]);else for(var u=n;u<o;u++)e.data.push(l.data[u]);s(e),p=!0,v=n};function S(t){var e=t.data.length/3,a=(t.data.length,{data:[]});h.children.length&&(h.innerHTML="");for(var n=0;n<e;n++){var o=document.createElement("button");o.className="link-pages",o.innerHTML=""+(n+1),o.onclick=y,h.appendChild(o)}for(var r=0;r<t.data.length;r++)r+1<=3&&a.data.push(t.data[r]);s(a)}S(l);for(var b=document.querySelectorAll(".links-pages"),I=0;I<b.length;I++)b.onclick=y;var j=null;document.getElementById("prev").onclick=function(t){console.log(v);l.data.length;var e=l.data.length,a={data:[]},n=e-v;if(1===n)for(var o=v-3;o<e-n;o++)a.data.push(l.data[o]);else if(2===n)for(var r=v-3;r<e-n;r++)a.data.push(l.data[r]);else if(v>0||0===v){for(var d=0;d<3;d++)a.data.push(l.data[d]);console.log("наклацали больше чем длина массива")}else for(var u=v-3;u<v;u++)a.data.push(l.data[u]);v-=3,j=a,s(a),p=!1},document.getElementById("next").onclick=function(t){console.log(v);l.data.length;var e=l.data.length,a={data:[]};0===v?v+=3:p?v=v:v+=3;var n=e-v;if(1===n)for(var o=v;o<e;o++)a.data.push(l.data[o]);else if(2===n)for(var r=v;r<e;r++)a.data.push(l.data[r]);else if(v>=l.data.length)a=j,console.log("наклацали больше чем длина массива");else for(var d=v;d<v+3;d++)a.data.push(l.data[d]);j=a,s(a),p=!1}},function(t,e,a){a(2),t.exports=a(0)}]);
//# sourceMappingURL=bundle.js.map