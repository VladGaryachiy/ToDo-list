!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){switch(e){case"id":return document.getElementById(t);case"class":return document.querySelector(t);case"all":return document.querySelectorAll(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:[]};e.Todos=o,e.setLocalStorage=function(t){var e=JSON.stringify(t);localStorage.setItem("object",e)},e.getLocalStorage=function(){var t=JSON.parse(localStorage.getItem("object"));e.Todos=o=t}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchTodosInInput=e.saveChange=e.updateTodos=e.clearTodo=e.createNewTodo=void 0;var o,a=n(1),r=n(0),i=(o=r)&&o.__esModule?o:{default:o};var l=a.Todos,u=(0,i.default)("save","id"),c=(0,i.default)("todo-list-text","id"),d=(0,i.default)("todo-list-button","id"),s=null;e.createNewTodo=function(t){t.preventDefault();var e=t.currentTarget[0].value;return t.currentTarget[0].value="",e},e.clearTodo=function(t){return t.target.parentElement.children[0].textContent.trim()},e.updateTodos=function(t){var e=t.target.parentElement.childNodes[1].textContent.trim();c.value=e,u.style.display="block",d.style.display="none",s=t.target.dataset.id},e.saveChange=function(t){var e=t.currentTarget.parentNode[0].value;c.value="",u.style.display="none",d.style.display="block";var n=[];return n[0]=s,n[1]=e,n},e.searchTodosInInput=function(t){if(l)return t.srcElement.value.trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(1);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=a.Todos,l=function t(e,n){r(this,t),this.id=Math.floor(100*Math.random()),this.name=e,this.dateCreate=n,this.dateUpdate=null},u=function(){function t(){r(this,t)}return o(t,[{key:"getDate",value:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth();return t.getDay()+" "+n+" "+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"crateTodo",value:function(t,e){if(t||alert("Задача не добавлена!"),t){var n=new l(t,e);i.data.push(n)}(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"deleteTodo",value:function(t){var e=null;i.data.forEach(function(n,o){n.name===t&&(e=o)}),i.data.splice(e,1),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"updateTodo",value:function(t,e,n){var o=i.data.filter(function(e){return e.id===+t});o[0].name=e,o[0].dateUpdate=n,(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"dateSort",value:function(){i.data.sort(function(t,e){return new Date(e.dateCreate)-new Date(t.dateCreate)}),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"nameSort",value:function(){i.data.sort(function(t,e){var n=t.name.toLowerCase(),o=e.name.toLowerCase();return n<o?-1:n>o?1:void 0}),(0,a.setLocalStorage)(i),(0,a.getLocalStorage)()}},{key:"searchTodo",value:function(t){var e={data:[]},n=(i.data,new RegExp(t,"i"));return i.data.forEach(function(t){n.test(t.name)&&e.data.push(t)}),e||i}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=(o=r)&&o.__esModule?o:{default:o};var l=(0,i.default)("pages-container","id"),u=((0,i.default)("pagination-container","id"),document.createElement("button"),document.createElement("button"),document.createElement("button"),(0,i.default)("prev-button-container","id")),c=(0,i.default)("next-button-container","id"),d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.countClick=0,this.numberButtonClick=null,this.countElementInPage=3,this.countElementsInThisPage=3*this.numberButtonClick,this.countAllData=e.data.length,this.checkNumberClick=!1,this.clickNumber=null,this.todos=e,this.lastPage=null,this.selectNumberButton=1}return a(t,[{key:"createNumberButton",value:function(t){var e=this.todos.data.length/3;if(this.countClick=0,l.innerHTML="",this.todos.data.length>3){for(var n=0;n<e;n++)l.innerHTML+='\n                     <button class="link-pages" id="link-pages">'+(n+1)+"</button>\n                    ";u.innerHTML='<button class="prev" id="prev">prev</button>',c.innerHTML='<button class="next" id="next">next</button>'}this.todos.data.length<=3&&(u.innerHTML="",c.innerHTML="")}},{key:"clickNumberButton",value:function(t){var e=Number(t.target.textContent.trim());this.checkNumberClick=!0,this.selectNumberButton=e,this.countClick=1===e?0:3*e-3;var n=[],o=this.countElementInPage*e-3,a=this.countElementInPage*e;if(this.todos.data.length>3)if(a>this.todos.data.length){n.length=0;for(var r=o;r<this.todos.data.length;r++)n.push(r)}else{n.length=0;for(var i=o;i<a;i++)n.push(i)}if(e)for(var u=0;u<l.children.length;u++)u===e-1?(l.children[u].style.backgroundColor="#d2d2d7",l.children[u].style.outline="none"):l.children[u].style.backgroundColor="white";return n}},{key:"clickNextButton",value:function(t){t.currentTarget.style.outline="none";var e=[];this.countClick<this.todos.data.length&&(this.lastPage=this.todos.data.length-this.countClick),this.countClick+=3,this.selectNumberButton+=1;this.countClick,this.todos.data.length;if(this.todos.data.length>this.countClick){e.length=0;for(var n=this.countClick;n<this.countClick+3;n++)e.push(n)}if(1===this.lastPage){e.length=0;for(var o=this.todos.data.length-1;o<this.todos.data.length;o++)e.push(o)}if(2===this.lastPage){e.length=0;for(var a=this.todos.data.length-2;a<this.todos.data.length;a++)e.push(a)}if(this.countClick>=this.todos.data.length){e.length=0,this.selectNumberButton=Math.ceil(this.todos.data.length/3),this.countClick=this.countClick-3;for(var r=this.todos.data.length-this.lastPage;r<this.todos.data.length;r++)e.push(r)}var i=l.children;if(i.length)for(var u=0;u<i.length;u++){Number(i[u].textContent)===this.selectNumberButton?(i[u].style.backgroundColor="#d2d2d7",i[u].style.outline="none"):i[u].style.backgroundColor="white"}return e}},{key:"clickPrevButton",value:function(t){t.currentTarget.style.outline="none";var e=[];if(this.lastPage=this.todos.data.length-this.countClick,this.countClick>=3&&(this.countClick-=3),this.selectNumberButton-=1,this.todos.data.length>this.countClick){e.length=0;for(var n=this.countClick;n<this.countClick+3;n++)e.push(n)}if(1===this.lastPage){e.length=0;for(var o=this.todos.data.length-4;o<this.todos.data.length-1;o++)e.push(o)}if(2===this.lastPage){e.length=0;for(var a=this.todos.data.length-5;a<this.todos.data.length-2;a++)e.push(a)}if(this.countClick<=0){e.length=0,this.countClick=0,this.selectNumberButton=1;for(var r=this.countClick;r<this.countClick+3;r++)e.push(r)}var i=l.children;if(i.length)for(var u=0;u<i.length;u++){Number(i[u].textContent)===this.selectNumberButton?(i[u].style.backgroundColor="#d2d2d7",i[u].style.outline="none"):i[u].style.backgroundColor="white"}return e}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=document.getElementById("todo-list");e.default=function(t,e){if(t.data.length){if(o.innerHTML="",t.data.forEach(function(t){var e=document.createElement("li");e.className="element-todo-list",e.innerHTML='\n                       \n                    <span class="todo">\n                       '+t.name+'\n                    </span>\n                    \n                    <button class="update" data-id='+t.id+'>\n                            Изменить \n\n                    <button class="delete"    >\n                        x\n                    </button>\n            \n                ',o.appendChild(e)}),t.data.length<=3||t.data.length>3)for(var n=0;n<t.data.length;n++)n<3&&(o.children[n].style.display="flex");if(e){if(1===e.length)for(var a=0;a<t.data.length;a++)e[0]===a?o.children[a].style.display="flex":o.children[a].style.display="none";if(2===e.length)for(var r=0;r<t.data.length;r++)e[0]===r||e[1]===r?o.children[r].style.display="flex":o.children[r].style.display="none";if(3===e.length)for(var i=0;i<t.data.length;i++)e[0]===i||e[1]===i||e[2]===i?o.children[i].style.display="flex":o.children[i].style.display="none"}}t.data.length||(o.innerHTML="")}},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(1),r=d(n(6)),i=d(n(5)),l=d(n(4)),u=n(3),c=d(n(0));function d(t){return t&&t.__esModule?t:{default:t}}var s=a.Todos,f=new l.default,h=new i.default(a.Todos),g=(0,c.default)("save","id"),v=(0,c.default)("todo-list-text","id"),y=(0,c.default)("todo-list-form","id"),p=(0,c.default)("todo-list","id"),b=(0,c.default)("butSortByDate","id"),m=(0,c.default)("butSortByName","id"),k=((0,c.default)(".delete","all"),(0,c.default)("pages-container","id")),T=(0,c.default)("pagination-container","id");g.style.display="none";var C=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,[{key:"createNewTodo",value:function(t){var e=(0,u.createNewTodo)(t);f.crateTodo(e,f.getDate()),h.createNumberButton(),(0,r.default)(s)}},{key:"deleteTodo",value:function(t){var e=(0,u.clearTodo)(t);f.deleteTodo(e),h.createNumberButton(!0),(0,r.default)(s)}},{key:"updateTodo",value:function(t){(0,u.updateTodos)(t)}},{key:"saveUpdate",value:function(){var t=(0,u.saveChange)(event);f.updateTodo(t[0],t[1],f.getDate()),h.createNumberButton(),(0,r.default)(s)}},{key:"searchTodo",value:function(){var t=(0,u.searchTodosInInput)(event),e=f.searchTodo(t);(0,r.default)(e)}},{key:"sortTodoByDate",value:function(){f.dateSort(),(0,r.default)(s)}},{key:"sortTodoByName",value:function(){f.nameSort(),(0,r.default)(s)}},{key:"paginationNumberNavigation",value:function(t){var e=h.clickNumberButton(t);(0,r.default)(s,e)}},{key:"paginationNextButton",value:function(t){var e=h.clickNextButton(t);(0,r.default)(s,e)}},{key:"paginationPrevButton",value:function(t){var e=h.clickPrevButton(t);(0,r.default)(s,e)}}]),t}());y.onsubmit=C.createNewTodo,p.addEventListener("DOMSubtreeModified",function(){var t=!0,e=!1,n=void 0;try{for(var o,a=p.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value;r.children[2].onclick=C.deleteTodo,r.children[1].onclick=C.updateTodo}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}),k.addEventListener("DOMSubtreeModified",function(){var t=!0,e=!1,n=void 0;try{for(var o,a=k.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.onclick=C.paginationNumberNavigation}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}),T.addEventListener("DOMSubtreeModified",function(){T.children[0].onclick=C.paginationPrevButton,T.children[T.children.length-1].onclick=C.paginationNextButton}),g.onclick=C.saveUpdate,v.onkeyup=C.searchTodo,b.onclick=C.sortTodoByDate,m.onclick=C.sortTodoByName},function(t,e,n){n(7),t.exports=n(2)}]);
//# sourceMappingURL=bundle.js.map